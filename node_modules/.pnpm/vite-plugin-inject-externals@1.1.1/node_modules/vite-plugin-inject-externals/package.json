{
  "name": "vite-plugin-inject-externals",
  "version": "1.1.1",
  "description": "When vite is packaged, the specified package is changed to be imported from CDN.",
  "main": "dist/index.js",
  "module": "dist/index.mjs",
  "types": "dist/index.d.ts",
  "files": [
    "dist"
  ],
  "repository": {
    "type": "git",
    "url": "https://github.com/lihanspace/vite-plugin-inject-externals.git"
  },
  "keywords": [
    "vite",
    "plugin",
    "cdn",
    "external",
    "global",
    "build",
    "script",
    "link"
  ],
  "bugs": {
    "url": "https://github.com/lihanspace/vite-plugin-inject-externals/issues"
  },
  "homepage": "https://github.com/lihanspace/vite-plugin-inject-externals#readme",
  "devDependencies": {
    "@types/node": "^16.11.17",
    "tsup": "^5.11.9",
    "typescript": "^4.5.4",
    "vite": "^2.6.5"
  },
  "dependencies": {
    "rollup-plugin-external-globals": "^0.6.1"
  },
  "author": "LiHan <lihana@vip.qq.com> (https://lihan.space)",
  "license": "MIT",
  "scripts": {
    "dev": "tsup src/index.ts --dts --format cjs,esm --watch",
    "build": "tsup src/index.ts --dts --format cjs,esm",
    "test": "echo \"Error: no test specified\" && exit 1"
  },
  "readme": "<h1 align=\"center\">vite-plugin-inject-externals</h1>\n\n[简体中文](./README.zh-CN.md) | English\n\nWhen vite is packaged, the specified module is imported from CDN instead.\n\nScript tag and link tag can be injected into the specified location.\n\nReduce build time and increase page load speed in production environments.\n\n<p align=\"center\">\n    <a href=\"https://npmjs.com/package/vite-plugin-inject-externals\"><img src=\"https://img.shields.io/npm/v/vite-plugin-inject-externals.svg?style=plastic&color=cb0303\" alt=\"npm package\"></a>\n    <a href=\"https://npmjs.com/package/vite-plugin-inject-externals\"><img src=\"https://img.shields.io/npm/dm/vite-plugin-inject-externals.svg?style=plastic&color=eb7738\" alt=\"npm downloads/month\"></a>\n    <a href=\"https://npmjs.com/package/vite-plugin-inject-externals\"><img src=\"https://img.shields.io/bundlephobia/min/vite-plugin-inject-externals.svg?style=plastic&color=12bd79\" alt=\"npm minified size\"></a>\n    <a href=\"https://github.com/lihanspace/vite-plugin-inject-externals/releases\"><img src=\"https://img.shields.io/github/v/release/lihanspace/vite-plugin-inject-externals.svg?display_name=release&sort=semver&style=plastic\" alt=\"github release\"></a>\n    <a href=\"https://github.com/lihanspace/vite-plugin-inject-externals/blob/master/LICENSE\"><img src=\"https://img.shields.io/github/license/lihanspace/vite-plugin-inject-externals.svg?style=plastic\" alt=\"License\"></a>\n</p>\n\n## Installation\n\nInstall the plugin with npm:\n\n```shell\nnpm install --save-dev vite-plugin-inject-externals\n```\n\n## Basic Usage\n\n```js\n// vite.config.js\nimport injectExternals from 'vite-plugin-inject-externals'\n\nexport default {\n  plugins: [\n    injectExternals({\n      // Default value: 'head-prepend'\n      // The custom injection location will replace the corresponding text in index.html\n      injectTo: '<!-- Custom placeholder for vite plugin inject externals -->',\n      modules: [\n        {\n          name: 'vue',\n          global: 'Vue',\n          path: 'https://unpkg.com/vue@3.2.19/dist/vue.global.prod.js'\n        },\n        {\n          name: 'axios',\n          global: 'axios',\n          // If there are name and global, but there are no path and htmltag, the global variables will be replaced directly, but the script tag will not be injected\n          // path: 'https://cdn.jsdelivr.net/npm/axios@0.22.0/dist/axios.min.js'\n        },\n        {\n          name: 'md-editor-v3',\n          global: 'MdEditorV3',\n          path: 'https://cdn.jsdelivr.net/npm/md-editor-v3@1.5.0/lib/md-editor-v3.umd.js',\n          injectTo: '<!-- example2 -->'\n        },\n        // If there is path but no global, the link tag will be injected\n        {\n          name: 'md-editor-v3/lib/style.css',\n          // If there is a name but no global, the import of name will be deleted, which is only applicable to bare imports(import 'md-editor-v3/lib/style.css')\n          path: 'https://cdn.jsdelivr.net/npm/md-editor-v3@1.5.0/lib/style.css',\n        }\n      ]\n    })\n  ],\n}\n```\n\n## Result\n\n```js\n// dev\nimport { createApp } from 'vue'\nimport axios from 'axios'\nimport MdEditorV3 from 'md-editor-v3'\nimport 'md-editor-v3/lib/style.css'\n\ncreateApp()\naxios()\nconsole.log(MdEditorV3)\n\n// build\nVue.createApp()\naxios()\nconsole.log(MdEditorV3)\n```\n\n```html\n<!-- Inject CDN links -->\n<script type=\"text/javascript\" src=\"https://unpkg.com/vue@3.2.19/dist/vue.global.prod.js\"></script>\n```\n\n## Extended usage\n\n```js\n// vite.config.js\nimport injectExternals from 'vite-plugin-inject-externals'\n\nexport default {\n  plugins: [\n    injectExternals({\n      // Default value: 'head-prepend'\n      // The custom injection location will replace the corresponding text in index.html\n      injectTo: '<!-- Custom placeholder for vite plugin inject externals -->',\n      modules: [\n        {\n          name: 'vue',\n          // When the import method is bare imports(import 'md-editor-v3/lib/style.css'), and there is a name('md-editor-v3/lib/style.css') but no global, the import will be deleted.\n          // When the import method is not bare imports, and there are name and global, the global variables will be replaced.\n          global: 'Vue',\n          // If there is a path, the script tag will be injected if there are name and global.\n          // If there is a path, the link tag will be injected if there is no global.\n          path: 'https://unpkg.com/vue@3.2.19/dist/vue.global.prod.js',\n          // Custom HTML tags with higher priority than path\n          htmlTag: {\n            tag: 'script',\n            attrs: {\n              type: 'text/javascript',\n              crossorigin: '',\n              src: 'https://unpkg.com/vue@3.2.19/dist/vue.global.prod.js'\n            }\n          },\n          // Module has no injectto. The injectto of the previous layer is the default\n          injectTo: '<!-- Custom1 -->'\n        }\n      ]\n    })\n  ],\n}\n```\n\n## InjectExternalsConfig\n\n|   Name   |  Required |                                                                     Desc                                                                     |                             Type                             |     Default      |\n|:--------:|:---------:|:--------------------------------------------------------------------------------------------------------------------------------------------:|:------------------------------------------------------------:|:----------------:|\n| command  |  `false`  | Inject HTML tag when running which command, A value of true indicates that HTML tags are injected when both build and serve commands are run |                       `'build' / true`                       |    `'build'`     |\n| injectTo |  `false`  |                                                       Location of HTML tags injection                                                        | `'head' / 'body' / 'head-prepend' / 'body-prepend' / string` | `'head-prepend'` |\n| modules  |  `true`   |                                                            Modules configuration                                                             |                  `InjectExternalsModule[]`                   |       `[]`       |\n\n### InjectExternalsModule\n\n|   Name   | Required |                                              Desc                                               |   Type    |                    Default       |\n|:--------:|:--------:|:-----------------------------------------------------------------------------------------------:|:---------:|:--------------------------------:|\n|   name   | `false`  |                                           Module name                                           | `string`  |\n|  global  | `false`  |                          Global variables corresponding to the module                           | `string`  |\n|   path   |  `true`  | CDN link of JS or CSS resources. If there is no global, it indicates that it is a CSS resource. | `string`  |\n| htmlTag  |  `true`  |                         Custom HTML tags, priority is higher than path.                         | `HtmlTag` |\n| injectTo | `false`  |                                 Location of HTML tags injection                                 | `string`  | `InjectExternalsConfig.injectTo` | \n\n#### HtmlTag\n\n| Name  | Required |                         Desc                          |   Type   | Default |\n|:-----:|:--------:|:-----------------------------------------------------:|:--------:|:-------:|\n|  tag  |  `true`  |                       Tag name                        | `string` |\n| attrs | `false`  | Attributes(`{ 'Attribute name': 'Attribute value' }`) | `object` |\n\n## License\n\nMIT\n"
}